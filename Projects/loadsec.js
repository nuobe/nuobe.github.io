let content1 = new File([`
<div id="content1">
    <h1>D r a w e r 
        <br>&nbsp; S i m u l a t o r</h1>
    <h4>&nbsp; &nbsp;2 0 1 9</h4>
    <div id="logo"><img src="./resources/Drawer/logo.gif"></div>
    
    <p>
        <em>Drawer Simulator</em> consists of a video projection 
        and an interactive object. The object is a 5-feet-9-inches
        high <span style="color: red;">red</span> cabinet with a single drawer in the middle. Viewers are
        invited to pull the handle on the drawer. As one pulls the drawer,
        not only does the drawer got pulled out, the whole <span style="color: red;">red</span> cabinet is
        drawn towards the viewer, as if the object is actively approaching
        them, creating an element of surprise. When the handle is released, 
        the drawer pulls itself back along with the <span style="color: red;">red</span> cabinet rolled away. 
    </p>
    <img id="img-center1" src="resources/Drawer/p1.jpg">
    <p>
        The video projection combines three stop motion videos of a person walking 
        slowly towards the camera and slowly walking away afterwards. Everytime
        the person approaches the camera, a <span style="color: red;">red</span> thing on his close, in his hand, or
        over his shoulder will cover the entire view. Be it a lobster, a <span style="color: red;">red</span> ball
        or a <span style="color: red;">red</span> light. At that moment the whole wall is projected <span style="color: red;">red</span>, like
        the <span style="color: red;">red</span> cabinet. These videos are projected on to a 5-feet-9-inches 
        high wall right across from the <span style="color: red;">red</span> 
        cabinet.
        <br>
        <br>
        The person/artist performing for the camera is 5-feet-9-inches high too.
    </p>
    <img id="img-center2" src="./resources/Drawer/p2.jpg">
    <p>
        The artist spent a lot of time making the <span style="color: red;">red</span> cabinet. He hand sanded the 
        plywood surfaces over and over, and applied <span style="color: red;">red</span> paint more times than needed.
        The cabinet is about the same size as the body of the artist, in both height and 
        width. As viewers watches the video of the artist approaching them in the 
        projection, and as they interact with the <span style="color: red;">red</span> cabinet, the two subjects connect.
        The <span style="color: red;">red</span> cabinet becomes the artist's avatar to do the walking motion in real life.
        The artist is also part of a drawer simulation since he presents himself inanimate
        in the stop motion videos while he is "pulled" forward along with the frame rates of
        the footages. 
    </p>

    <iframe
        src="https://www.youtube.com/embed/GC9siqlE5pM" frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
    <iframe
        src="https://www.youtube.com/embed/ykyqiv0Lztw" frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
    <iframe
        src="https://www.youtube.com/embed/plQ80HgtzKk" frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
</div>
`], "content1");

let content2 = new File([`
<div id="content2">
    <h1><em>F</em> 
        <span style="text-decoration:underline">o</span> 
        <span style="text-decoration: line-through;">u</span> 
        r 
        <em>f</em> 
        o 
        <span style="text-decoration: line-through;">l</span> 
        <span style="text-decoration:underline">d</span></h1>
    <h4>2 0 1 8</h4>
    <img id="img-center1" src="resources/Majiang/p1.jpg">
    <p>
        <em>Fourfold</em> is a collaborative video 
        installation by Zhengzhou ang Zhengyang Huang. It is based on the Chinese 
        board game, mahjong, in which four players draw and discard mahjong tiles 
        until they form a complete set of patterns. This installation is set up in 
        four rooms, in each of which there is a set of stands, stools and screens 
        that forms a furniture object. Each furniture object has a screen onto which 
        a video that shows a mahjong player is projected. The videos have two settings, 
        green, where the green is the hard solid surface of mahjong table the player 
        plays on, and red, where the red is the absorbingly saturate drapery in the 
        domestic space. The videos create the textural surfaces that mimic the actual 
        fabric pieces placed on the furniture object. With the orange stained wood 
        furniture, the fabric screens and cushions, and the materiality of the videos
            throughout all four rooms, a continuum of surfaces is formed.
            <br>
            
    </p>
    <iframe
        src="https://www.youtube.com/embed/3_u1EDpzF3w" frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
    <img id="img-center2" src="./resources/Majiang/p2.jpg">
    <img id="img-center3" src="./resources/Majiang/p3.jpg">
    <div class="sep"></div>
    <img id="img-center1" src="resources/Majiang/p4.jpg">
    <img id="img-center1" src="resources/Majiang/p5.jpg">
    <img id="img-center1" src="resources/Majiang/p6.jpg">
    <img id="img-center1" src="resources/Majiang/p7.jpg">
    <img id="img-center1" src="resources/Majiang/p8.jpg">
</div>
`], "content2");

let content3 = new File([`
<div id="content3">
<h1>Elevator Simulator</h1>
<h4>2 0 1 8</h4>
<img id="logo" src="./resources/Elevator/logo1.gif">
<img id="logo" src="./resources/Elevator/logo2.gif">
<img id="logo" src="./resources/Elevator/logo3.gif">
<p>
    Elevator Simulator simulates an experience of taking an elevator.
    <br>
    <br>
    It is installed in an institutional buidling where the hallways leave spaces
    for hideouts. One part of the installation is a tall box with push buttons that
    simulates the function of the push button panel in a real elvator. Different buttons
    lead to different "floor levels". As a "floor" is reached, different videos are 
    played. Each video itself is also a simulation. 
    <br>
    <br>
</p>
<img id="img-center1" src="resources/Elevator/p1.jpg">
<p>
    A scroll saw is demoed and used to
    simulate a sewing machine.
    <br>
    <br>
    A monitor screen with images of swimming fish simulates a fish tank.
    <br>
    <br>
    A stuffed pig, manipulated to microwave bread, parodies the process of a
    real person using the microwave.
    <br>
    <br>
</p>
<iframe
    src="https://www.youtube.com/embed/FFRQvc8o3Mo" frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>
    The other part of the installation is a real elevator right around the corner 
    from the fake one. Inside the real elevator, there is a wood trash can. Yet
    the trash can is unable to hold trash. Instead it plays sound. The sound is a
    mix of two similar audios, stir-frying sound and sea waves. The noise of oil and 
    water vaporising on a hot pan and the noise of waves gradually merged together.
    The sound reverberates in the elevator creating an immersive effect.
    While the viewers might think they are finished with a fake elevator full of
    digital media, they leave the hallway by elevator, and only find the real elevator
    is also a bigger media/audio player. The two elevators created layers of 
    realities and fictions.                 
</p>
<img id="img-center1" style="margin-bottom:8%;" src="resources/Elevator/p2.jpg">
<img id="img-center1" src="resources/Elevator/p3.jpg">
</div>
`], "cotnent3");

let content4 = new File([`
<div id="content4">
<h1>Sprinkler Simulator</h1>
<h4>2 0 1 9</h4>
<img id="logo" src="./resources/Sprinkler/logo.gif">
<img id="img-center1" src="./resources/Sprinkler/p1.jpg">
<p>
    <em>Sprinkler Simulator</em> is an interactive
    installation that invites two viewers to
    participate. It has four objects standing in
    a line:
    <br> 
    <br>
    a small tiled counter on the right,<br>
    a stand in the middle,<br>
    a screen made of blurry plexiglass on the left, <br>
    accompanied with a seat. 
    <br>
    <br>
    A projector placed at the right end
    projects a video of a shower head to the
    left screen. Photos of plants are placed in
    the counter and on the small stand. These
    photos were shot in biology-textbook
    style as if study samples.
</p>
<img id="img-center2" src="resources/Sprinkler/p2.jpg">
<img id="img-center2" src="resources/Sprinkler/p3.jpg">
<p>
    <em>Sprinkler Simulator</em> has two states. In the first state the projector
    is obstructed by a photo of flower on the middle stand. When one participant sits on the
    left seat, they can see through the peephole of the plexiglass screen to the photo.
    In the second state, the photo on the middle stand will be turned away by a motor.
    The way for the projector is clear and a video is projected on the plexiglass screen.
    In the video, a shower head sprinkles water from above. The
    projector light shines through the peephole of the screen, and because of this
    strong beam of light, the participant may feel hard to look at the lower part of
    the screen. Meanwhile a sound of splashing water is played from the tiled counter at right.
    After three minutes, the  photo of flower is turned back by the motor and the shower head
    disappears from the screen.
</p>
<img id="img-center3" src="resources/Sprinkler/p4.jpg">
</div>
`], "content4")

let content5 = new File([`
<div id="content5">
<h1>A Window From an Airplane</h1>
<h4>2 0 1 7</h4>
<img id="img-center1" src="resources/Window/p2.jpg">
<p>
    <em>A Window From an Airplane</em> is an object that simulates an actual airplane window. 
    It is a long wooden box with a window shaped opening on its facade. 
    A projector inside the box projects an blurred image of an airplane window, through the opening
    onto the wall. A pair of headphones is hung on the facade, inviting viewers to wear and hear.
</p>
<img id="img-center2" src="resources/Window/p3.jpg">
<iframe
    src="https://www.youtube.com/embed/7ewOfIiFHEw" frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>
    When viewers take and wear the headphones, the threads connecting the headphones 
    and a projection screen inside the box pulls up the screen to cover the opening. 
    Then the blurry projection on the wall disappears while a 
    clear projection of the airplane window shows on the screen right in front 
    of the viewer. Viewers now can see the slowly changing cloudy waves from the airplane 
    window in the video. They can also hear from the headphones the noise of the cabin, 
    the announcement of the captain and the sound of serving attendants. Though the cloudy
    waves are gradual transitions of sea waves photos and the sound comes solely from the
    acting of the artist.
    With viewers' interaction, the experience of looking at an airplane
    window is formed as several states of seeing and hearing.
</p>
<img id="img-center1" src="resources/Window/p1.jpg">
</div>
`], "content5")

let content6 = new File([`
<div id="content6">
<h1>Weather Forecaster</h1>
<h4>2 0 1 9</h4>
<img id="logo" src="./resources/Weather/logo.gif">
<img id="img-center1" src="./resources/Weather/p1.jpg">
<p>
    <em>Weather Forecaster</em> imagines an object that has an avatar.
    <br>
    <br>
    This work has two parts, a radio and a small screen with the same color as the 
    radio. The small screen shows a video, in which a pig lives in a space colored
    just like the small screen and the radio. The pig listens to radio signals of 
    weather reports, send signals of weather to others, and finally forecast weathers.
    Meanwhile, the radio is on and when a participant turns the knob of the radio, they
    change both the radio channel and the video on the small screen. 
</p>
<iframe
    src="https://www.youtube.com/embed/jSZhg1-dtR4" frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>
    Each time the radio knob is turned, a weather report graph is printed on the screen,
    bits by bits. When the graph is completely printed, the pig collects the
    graph. It is as if the pig collects information from the radio signal of the radio itself.
    <br>
    <br>
    <em>Weather Forecaster</em> combines both listening to broadcasts and the (acted) process 
    of broadcasting. It imagines an object functional in dual directions. While the radio works
    in one direction, its avatar, the pig performs the exact function reversed.
</p>
<img id="img-center2" src="resources/Weather/p2.jpg">
</div>
`], "content6");

let content7 = new File([`
<div id="content7">
<h1>Room</h1>
<h4>2 0 1 7</h4>
<img id="img-center1" src="./resources/Room/p1.jpg">
<img id="logo" src="./resources/Room/logo1.gif">
<img id="logo" src="./resources/Room/logo2.gif">
<p>
    <em>Room</em> an interactive installation that happens at night. It's a small-room like object installed in an
    open-air hallway at dusk and removed in the morning. This object has wood ceiling panels, a small ceiling fan,
    and blinds on its three sides. A drawer handle on the bottom wood panel invites viewers to pull it out and reveal
    a monitor screen embedded inside. By changing the orientation of the wood switch, the video plays on the
    monitor can be switched to the image of either feet walking in an apartment or a hand reaching towards the
    ceiling. The rotating ceiling fan also changes its direction as the video changes. The action of tilting the switch,
    and the reaction of the video and the fan transit the viewers from one perspective of seeing to another. The
    experience of the room is formed with viewers' consciousness of the object changing and reacting to viewers'
    action.
</p>
<iframe
    src="https://www.youtube.com/embed/kokouyu3sf0" frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<img id="img-center1" src="resources/Room/p2.jpg">
</div>
`], "content7");

let filesToRead = [content1, content2, content3, content4, content5, content6, content7];
let imgsToLoad = [2, 8, 3, 4, 3, 2, 2];
let foldernames = ["Drawer/", "Majiang/", "Elevator/", "Sprinkler/", "Window/", "Weather/", "Room/"];
let masterFolder = "./resources/";
let other = ["./resources/Drawer/logo.gif", "./resources/Elevator/logo1.gif", 
"./resources/Elevator/logo2.gif", "./resources/Elevator/logo3.gif", "./resources/Sprinkler/logo.gif",
"./resources/Weather/logo.gif", "./resources/Room/logo1.gif", "./resources/Room/logo2.gif"]

const iframe_container_pre = "content"; 

var isSecLoaded;

function adjustIframeHeightPreloadImage(index){
    if(index != 1 && index != 5 && index !=4){
        var selector = iframe_container_pre + index;
        var iframe = document.getElementById(selector).querySelector("iframe");

        if(index != 6){
            var heightToSet = iframe.clientWidth * 9.0 / 16.0;
            iframe.style.height = heightToSet + "px";
        }
        else{
            var heightToSet = iframe.clientWidth * 0.75;
            iframe.style.height = heightToSet + "px";
        }
    }
}

function pushOtherFilesToLoad(imgs, index){
    if(index == 1){
        imgs.push(other[0]);
    }
    else if(index == 3){
        imgs.push(other[1]);
        imgs.push(other[2]);
        imgs.push(other[3]);
    }
    else if(index == 4){
        imgs.push(other[4]);
    }
    else if(index == 6){
        imgs.push(other[5]);
    }
    else if(index == 7){
        imgs.push(other[6]);
        imgs.push(other[7]);
    }
}

function loadsections(wraper, index, mainloader){
    var fr = new FileReader();
    fr.onload = function(){
        wraper.html(fr.result);
        window.scrollTo(0,0);

        var imgs = []
        for(var i = 1; i <= imgsToLoad[index - 1]; i ++){
            imgs.push(masterFolder + foldernames[index - 1] + "p" + i + ".jpg");
        }

        pushOtherFilesToLoad(imgs, index);

        adjustIframeHeightPreloadImage(index);

        loadImages(imgs, function(){
            mainloader.css("--mainloaderAlpha", "0");
            requestTimeout(()=>{
                mainloader.css("z-index", "-2");
                isSecLoaded = true;

                requestTimeout(()=>{
                    if(isNavClickable && navOpen){
                        switchNav();
                    }
                }, 10);
            }, 500);
        });
    }

    fr.readAsText(filesToRead[index - 1]);
}

function startLoadSec1(mainloader){
    var imgs = []
    for(var i = 1; i <= imgsToLoad[0]; i ++){
        imgs.push(masterFolder + foldernames[0] + "p" + i + ".jpg");
    }
    pushOtherFilesToLoad(imgs, 1);

    loadImages(imgs, function(){
        mainloader.css("--mainloaderAlpha", "0");
        requestTimeout(()=>{
            mainloader.css("z-index", "-2");
            isSecLoaded = true;
            requestTimeout(()=>{
                switchNav();
                startCircle();
            }, 30);
        }, 300);
    }); 
}